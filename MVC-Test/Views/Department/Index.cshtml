@{
    ViewBag.Title = "Department Page";
}
@using Microsoft.AspNetCore.Authorization; 
@using Microsoft.AspNetCore.Mvc;
@using Group6Application.Models
@model Group6Application.Models.DepartmentView

<script>

    ready(function () {
        $("#addDepartmentRedirect").click(function () {
            $('#submittingModal').modal({
                backdrop: 'static',
                keyboard: false
            })
            addDepartmentRedirect();
        });
    });

    function addDepartmentRedirect() {
        Response.Redirect(@Url.Action("AddDepartment", "Department"))

    }
</script>


<html>
<head>
    <link rel="stylesheet" href="~/css/bootstrap.css">
</head>
<div class="text-center">
    <h1 class="display-4">Current Departments</h1>
    <table>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Supervisor ID</th>
            <th>Number of Employees</th>
        </tr>

        @{
            
            foreach (DepartmentTemplate dept in Model.Departments)
            {
            <tr>
            <td>@dept.ID</td>
            <td>@dept.Name</td>
            <td>@dept.SupervisorID</td>
            <td>@dept.Number_of_Employees</td>
            </tr>
            }
            
        }
    </table>
    <a href="@Url.Action("AddDepartment", "Department")">
        <button>Add Department</button>
    </a>
</div>

</html>
