@{
    ViewBag.Title = "Project Page";
}
@using Microsoft.AspNetCore.Authorization;
@using Microsoft.AspNetCore.Mvc;
@using Group6Application.Models
@model Group6Application.Models.ProjectView

<script>

    ready(function () {
        $("#addDepartmentRedirect").click(function () {
            $('#submittingModal').modal({
                backdrop: 'static',
                keyboard: false
            })
            addDepartmentRedirect();
        });
    });

    function addDepartmentRedirect() {
        Response.Redirect(@Url.Action("AddDepartment", "Department"))

    }
</script>


<html>
<head>
    <link rel="stylesheet" href="~/css/bootstrap.css">
    <link rel="stylesheet" href="~/css/site.css">

    <script src="~/js/jquery-3.6.4.min.js"></script>
    <script src="~/js/bootstrap.min.js"></script>

</head>
<div class="text-center">

    <div class="row text-start">
        <h1 class="text-center">Current Project</h1>
        <table>
            <div class="col-md-12">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Status</th>
                <th>Supervisor</th>
                <th>Total Hrs.</th>
                <th>Total Cost</th>
                <th>Budget</th>
                <th>Client ID</th>
                <th>Dept. ID</th>
                <th>Project Page</th>
            </tr>

                @{
                    foreach (Project dept in Model.Projects)
                    {
                    <tr>
                        <td>@dept.ID</td>
                        <td>@dept.Name</td>
                        <td>@dept.Description</td>
                        <td>@dept.Status</td>
                        <td>@dept.TotalHours</td>
                        <td>@dept.Cost</td>
                        <td>@dept.Budget</td>
                        <td>@dept.ClientID</td>
                        <td>@dept.DepartmentID</td>
                        <td><a href="/Project/View?id=@(dept.ID)">@dept.Name Project</a></td>
                    </tr>
                    }
                }

    </div>

    </table>
    <br />
    <a class="text-center" href="@Url.Action("AddProject", "Project")">
        <button>Add Project</button>
    </a>
</div>

</div>

</html>